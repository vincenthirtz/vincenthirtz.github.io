<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}</style><title data-react-helmet="true">Automatisation du déploiement du blog | Blog de Vincent Hirtz</title><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="Blog de Vincent Hirtz" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=cb23b7a5f2baca95bb684f9343c6f31b"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#0b86ac"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=cb23b7a5f2baca95bb684f9343c6f31b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=cb23b7a5f2baca95bb684f9343c6f31b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=cb23b7a5f2baca95bb684f9343c6f31b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=cb23b7a5f2baca95bb684f9343c6f31b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=cb23b7a5f2baca95bb684f9343c6f31b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=cb23b7a5f2baca95bb684f9343c6f31b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=cb23b7a5f2baca95bb684f9343c6f31b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=cb23b7a5f2baca95bb684f9343c6f31b"/><meta name="generator" content="Gatsby 2.15.25"/><meta data-react-helmet="true" name="description" content="Comment ce blog est-il déployé, sur quelle infrastructure tourne-t-il, est-ce
que tout est automatisé ? Nous allons répondre à ces questions dans ce billet…"/><meta data-react-helmet="true" property="og:title" content="Automatisation du déploiement du blog"/><meta data-react-helmet="true" property="og:description" content="Comment ce blog est-il déployé, sur quelle infrastructure tourne-t-il, est-ce
que tout est automatisé ? Nous allons répondre à ces questions dans ce billet…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Vincent Hirtz"/><meta data-react-helmet="true" name="twitter:title" content="Automatisation du déploiement du blog"/><meta data-react-helmet="true" name="twitter:description" content="Comment ce blog est-il déployé, sur quelle infrastructure tourne-t-il, est-ce
que tout est automatisé ? Nous allons répondre à ces questions dans ce billet…"/><style data-href="/styles.2dd2e42200c52ac1b991.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}body{--blue:#0b86ac;--bg:#fff;--header:var(--blue);--textNormal:#222;--textTitle:#222;--textLink:var(--blue);--hr:rgba(0,0,0,0.2);--inlineCode-bg:rgba(255,229,100,0.2);--inlineCode-text:#1a1a1a;background-color:var(--bg)}a{color:var(--textLink)}@media (prefers-color-scheme:dark){body{-webkit-font-smoothing:antialiased;--bg:#282c35;--header:#fff;--textNormal:hsla(0,0%,100%,0.88);--textTitle:#fff;--textLink:var(--blue);--hr:hsla(0,0%,100%,0.2);--inlineCode-bg:#373c49;--inlineCode-text:#e6e6e6;color:var(--inlineCode-text)}blockquote{color:#d1d1d1}}hr{background-color:var(--hr)}code[class*=language-],pre[class*=language-]{color:#fff;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{overflow:auto;padding:1.3125rem}pre[class*=language-]::-moz-selection{background:#27292a}pre[class*=language-]::selection{background:#27292a}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:hsla(0,0%,100%,.15)}pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:hsla(0,0%,100%,.15)}:not(pre)>code[class*=language-]{border-radius:.3em;background:var(--inlineCode-bg);color:var(--inlineCode-text);padding:.15em .2em .05em;white-space:normal}.token.attr-name{color:#addb67;font-style:italic}.token.comment{color:#809393}.token.string,.token.url{color:#addb67}.token.variable{color:#d6deeb}.token.number{color:#f78c6c}.token.builtin,.token.char,.token.constant,.token.function{color:#82aaff}.token.punctuation{color:#c792ea}.token.doctype,.token.selector{color:#c792ea;font-style:"italic"}.token.class-name{color:#ffcb8b}.token.keyword,.token.operator,.token.tag{color:#ffa7c4}.token.boolean{color:#ff5874}.token.property{color:#80cbc4}.token.namespace{color:#b2ccd6}pre[data-line]{padding:1em 0 1em 3em;position:relative}.gatsby-highlight-code-line{background-color:#022a4b;display:block;padding-right:1em;padding-left:1.25em;border-left:.25em solid #ffa7c4}.gatsby-highlight,.gatsby-highlight-code-line{margin-right:-1.3125rem;margin-left:-1.3125rem}.gatsby-highlight{margin-bottom:1.75rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto}@media (max-width:672px){.gatsby-highlight{border-radius:0}}.gatsby-highlight pre[class*=language-]{float:left;min-width:100%}</style><link as="script" rel="preload" href="/app-6c2333e06b826e36bcc1.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-2dc6a7b4e4bbe0029a78.js"/><link as="script" rel="preload" href="/styles-b5c59a627a2767837db2.js"/><link as="script" rel="preload" href="/commons-2dc44cac305a95645471.js"/><link as="script" rel="preload" href="/webpack-runtime-e998c37a474136e80485.js"/><link as="fetch" rel="preload" href="/page-data/automatisation-de-la-publication-du-blog/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Blog de Vincent Hirtz</a></h3></header><main><h1>Automatisation du déploiement du blog</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem;margin-top:-1.75rem">10/07/2019</p><div><blockquote>
<p>Comment ce blog est-il déployé, sur quelle infrastructure tourne-t-il, est-ce
que tout est automatisé ? Nous allons répondre à ces questions dans ce billet.</p>
</blockquote>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 560px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABf0lEQVQoz61T207CQBDtD6o/gE+SaPwW/AJMMLwgJviMvJNIBAKt4U5iaRHojd6A0BaOO5tACBb1wU2mm5yZOXN2z1bYbrc4FbR+yseFsGuMW2EYfsPi6g8xgT7zuY3JdIaZpjOSiBf4/gIb2hds32x4OK6HuW3D9X1eEwQBbMdluAuPYSCFtu1gMBhiNPpEu9PHhzziZK1WG3epFOr1OhzP402SJOG5UMBgOIRNJJ6PWrWGp3yeCZry4YKmG2g0RNxc3yJ5lUSjKTEVDh4yGZReSrhPpyErClcniSIeczl0O11Y7FSktvr2hmw2ywSN4BGhaVpMRRMXZ+e4TCTQ6fa5msprBeVyGcVikQ+YTKZQVRWyLENhA+h6TMvCeDxGr9eDYZr8+NwURVHRFN852WK5RBRFoKuwrDknD4IQ6/Uamq6zJgeaYfCa5WrFiUgpkdM9Czt3qIAZv3eLkkRC+DF26Crl18ycvcun3tzxs/gN27/DU0R/weJ+BAH/vL4AuqZF2B4l/T4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Schéma du déploiement du blog"
        title="Schéma du déploiement du blog"
        src="/static/b6d87a18c3222fffdc95edf7af095847/02744/blog-deployment.png"
        srcset="/static/b6d87a18c3222fffdc95edf7af095847/cf440/blog-deployment.png 148w,
/static/b6d87a18c3222fffdc95edf7af095847/d2d38/blog-deployment.png 295w,
/static/b6d87a18c3222fffdc95edf7af095847/02744/blog-deployment.png 560w"
        sizes="(max-width: 560px) 100vw, 560px"
        loading="lazy"
      />
    </span></p>
<p><a href="https://www.gatsbyjs.org/">Gatsby</a>, c’est chouette, ça permet vraiment beaucoup de choses intéressantes
pour gérer du contenu (j’y reviendrai peut-être lors d’un autre billet de blog),
mais il y avait un truc qui ne me plaisait pas, c’est qu’il fallait que je lance
plusieurs commandes, identiques à chaque nouvel article, pour mettre à jour mon
site… Je suis développeur, je suis pour l’automatisation, je veux donc
optimiser mon temps et gagner quelques secondes par-ci, par-là.</p>
<h2>Github et Github Pages</h2>
<p>Le code source du blog est hébergé sur <a href="https://github.com">Github</a>, à des fins pratiques, car j’ai
toutes mes sources sur cet outil car tous mes projets personnels sont publics
sur le modèle du libre et de l’Open Source. <a href="https://github.com">Github</a> permet de stocker le code
source de vos applications et bien plus, on le verra par la suite.</p>
<p>J’ai créé le dépôt de ce blog sous le nom <code class="language-text">yoannfleurydev.github.io</code>, j’en
parlais dans <a href="../mise-en-place-de-ce-blog">mon précédent post</a> si vous l’avez
manqué.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 412px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 12.62135922330097%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdyFlB//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAZEAADAAMAAAAAAAAAAAAAAAAAAZERYYH/2gAIAQEAAT8hp10xt0//2gAMAwEAAgADAAAAEPgv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBAAAQMFAAAAAAAAAAAAAAAAAAERITFBkaHB/9oACAEBAAE/EGmuSjX2BIdB/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Catpure d&#39;écran du dépôt sur Github"
        title="Catpure d&#39;écran du dépôt sur Github"
        src="/static/d089fe2a92efc7696ee1980b2b338d3d/53d09/repository-name.jpg"
        srcset="/static/d089fe2a92efc7696ee1980b2b338d3d/8ee9c/repository-name.jpg 148w,
/static/d089fe2a92efc7696ee1980b2b338d3d/ebbe7/repository-name.jpg 295w,
/static/d089fe2a92efc7696ee1980b2b338d3d/53d09/repository-name.jpg 412w"
        sizes="(max-width: 412px) 100vw, 412px"
        loading="lazy"
      />
    </span></p>
<p>Il faut savoir qu’en faisant cela, j’ai directement accès au <a href="https://pages.github.com/">Github Pages</a> sur
le domaine <a href="https://yoannfleurydev.github.io">yoannfleurydev.github.io</a>. Allez
y, cliquez, vous allez directement retomber sur l’accueil du blog grâce à la
redirection que j’ai défini dans les paramètres du dépôt.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 79.70627503337784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAACB0lEQVQ4y5WU65KbMAyFef/Ha3fbHy3JbMI1Wa42vptTySRsMp3pNGS+yPJgIR0Jsq77xLkoUFYlPk5nOO/A14r/v1b+rRuZ1gFCBmjlIScJqy28cQjWwd3WVhmynqyFoTXf4/S2bxaD6OOWAZFd7Izf8oKDaHCYTjjOBY5p3SCfarI18rFCqS84LzU+ZIVCtSg0oZrkN+4T13XEEAWyOl7xw+X4aQ940zneTY43U+CbLvHdEGTfbYUDKhxRE1XigPJGhZzsr/WMYr0gU1rj2nWknU+EGOCD23HeJqyjci3hPBHgQkBcI90fk72TOdJqGEaM04Su69Oa6XtmgFwUlp0FC2kndaSH/N221BRLT+WD/TCkA+wbY5N1zv27t+sDNz9TSqEsK9R1g67vMc8CUi4QQibGccQkFkwqUGbhKchjZnuGrFt77VC3V1TNhXR7PvQqWaAA3oetISG+NNCP5d8loMHWaNs2lTzPMwX3Sbu7lsaYHa3Nk8ZJZ2qqdRGaCIGbQofHcUpwY4QQGKYZHXVaKZ2C8ENZa7bJT/tfe8oGIpJckUuO1AS5N4KzW+iQWPTrhaemUAAuZyvTvaba+hUoMvEWkDU8nQuylzQ2DA86a7r5M/nETINN5XJFacipZJaFdd8z5D/O8P4mcABBB+6Bt7kkXyr0s4Wirw8HeIRl4+wivYZ/AHh+3aU1lltFAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Capture d&#39;écran des paramètres de nom de domaine des Github Pages"
        title="Capture d&#39;écran des paramètres de nom de domaine des Github Pages"
        src="/static/2a729b58ec4196b1f7dd7db20491b156/b9e4f/repository-settings-domain.png"
        srcset="/static/2a729b58ec4196b1f7dd7db20491b156/cf440/repository-settings-domain.png 148w,
/static/2a729b58ec4196b1f7dd7db20491b156/d2d38/repository-settings-domain.png 295w,
/static/2a729b58ec4196b1f7dd7db20491b156/b9e4f/repository-settings-domain.png 590w,
/static/2a729b58ec4196b1f7dd7db20491b156/f5ece/repository-settings-domain.png 749w"
        sizes="(max-width: 590px) 100vw, 590px"
        loading="lazy"
      />
    </span></p>
<p>Les <a href="https://pages.github.com/">Github Pages</a> permettent l’hébergement d’un site statique, personnel ou
bien pour de la documentation de projet. Je ne vais pas m’étendre sur le sujet
des Github Pages plus longuement, car la documentation de Github est plutôt
bonne à ce sujet, mais je vais juste prévenir que les Github Pages agissent
différemment selon le type de dépôt:</p>
<ul>
<li>Si c’est un dépôt personnel sous format <code class="language-text">username.github.io</code>, seule la branche
<code class="language-text">master</code> sera disponible à l’hébergement, il faudra donc comme moi, si vous
utilisez un outil qui construit votre site statique, le versionner sur une
autre branche. J’ai pour ma part choisi de nommer cette branche <code class="language-text">develop</code>.</li>
<li>Si c’est un dépôt de projet vous pourrez choisir dans les paramètres du dépôt
quelle branche sera disponible à l’hébergement sur le domaine
<code class="language-text">https://username.github.io/repository</code>. A noter qu’il est également possible
de donner le dossier <code class="language-text">docs/</code> afin d’éviter d’avoir deux branches différentes
entre le projet et sa documentation.</li>
</ul>
<p>Pour résumer, avant de tout automatiser, je devais écrire mes articles, <em>commit</em>
et <em>push</em> sur <code class="language-text">develop</code> pour versionner mon code et mes articles, puis lancer
<code class="language-text">npm run build</code> et enfin <em>commit</em> sur la branche <code class="language-text">master</code> seulement les fichiers
construits par la commande de <code class="language-text">build</code> pour ensuite <em>push</em> tout ça.</p>
<p>Ma réaction face à toutes ces commandes :</p>
<p><img src="/dbd776ff5dc0ded194e4a964a3553fae/choque.gif" alt="Gif me représentant choqué en voyant toutes les commandes à lancer"></p>
<p>C’est contraignant, et j’ai donc décidé de me simplifier la tâche avec une
bibliothèque <code class="language-text">npm</code>: <code class="language-text">gh-pages</code>.</p>
<h2>gh-pages</h2>
<p>La bibliothèque <a href="https://www.npmjs.com/package/gh-pages">gh-pages</a> permet de se simplifier la vie pour déployer son site
statique sur les <a href="https://pages.github.com/">Github Pages</a>. Avec elle, plus besoin de faire de <em>commit</em> sur
<code class="language-text">master</code> et <em>push</em> sur Github, car une fois configurée, elle le fait
automatiquement pour nous en une seule commande.</p>
<p>Il ne me restait plus que deux commandes à lancer à partir de maintenant pour
mettre le blog à jour:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run build
<span class="token function">npm</span> run deploy</code></pre></div>
<p>Du coup, pourquoi ne pas optimiser encore et n’en faire qu’une seule, car si je
veux déployer le nouveau site, il faut de toute façon que je le construise
avant dans tous les cas ! J’ai donc obtenu la commande <code class="language-text">deploy</code> suivante :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="json"><pre class="language-json"><code class="language-json"><span class="token comment">// ...</span>
<span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"gatsby build"</span><span class="token punctuation">,</span>
  <span class="token property">"develop"</span><span class="token operator">:</span> <span class="token string">"gatsby develop"</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  <span class="token property">"deploy"</span><span class="token operator">:</span> <span class="token string">"gatsby build &amp;&amp; gh-pages -d public -b master"</span><span class="token punctuation">,</span></span>  <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"prettier --write src/**/*.{js,jsx}"</span><span class="token punctuation">,</span>
  <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"npm run develop"</span><span class="token punctuation">,</span>
  <span class="token property">"serve"</span><span class="token operator">:</span> <span class="token string">"gatsby serve"</span><span class="token punctuation">,</span>
  <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"jest"</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span></code></pre></div>
<p>On lui dit de <code class="language-text">build</code> le site, puis de ne <em>commit</em> que le dossier <code class="language-text">public/</code> sur
la branche <code class="language-text">master</code>. Ainsi, j’écris mes articles, et je n’ai plus qu’à lancer
une seule commande:</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="gatsby-highlight-code-line"><span class="token function">npm</span> run deploy</span></code></pre></div>
<p>OK, parfait, je gagne quelques secondes petit à petit. Mais bon, j’ai toujours
une commande à lancer pour mettre à jour mon site…</p>
<p><img src="https://media.giphy.com/media/FdmPbRxNRGNvq/giphy.gif" alt="Gif de la série Unbreakable Kimmy Schmidt qui représente ma fainéantise"></p>
<p>C’est là que les <a href="https://github.com/features/actions">Github Actions</a> entrent en jeu !</p>
<h2>Github Actions</h2>
<p>Les <a href="https://github.com/features/actions">Github Actions</a> sont une fonctionnalité encore en bêta pour le moment, il
faut s’inscrire sur une liste d’attente pour en bénéficier.</p>
<p>On peut considérer cette nouvelle fonctionnalité comme une alternative à des
services de CI/CD existant déjà sur le marché. Ce n’est pas aussi puissant, mais
pour mes besoins pour le blog, c’est largement suffisant.</p>
<p>Les Github Actions peuvent être éditées sous deux formes :</p>
<ol>
<li>Textuellement</li>
</ol>
<div class="gatsby-highlight" data-language="workflow"><pre class="language-workflow"><code class="language-workflow">workflow &quot;Build and Deploy Blog&quot; {
  on = &quot;push&quot;
  resolves = [&quot;Deploy Blog&quot;]
}

action &quot;Install packages&quot; {
  uses = &quot;actions/npm@59b64a598378f31e49cb76f27d6f3312b582f680&quot;
  args = &quot;install&quot;
}

action &quot;Build Blog&quot; {
  uses = &quot;actions/npm@59b64a598378f31e49cb76f27d6f3312b582f680&quot;
  needs = [&quot;Install packages&quot;]
  args = &quot;run build&quot;
}

action &quot;Deploy Blog&quot; {
  needs = &quot;Build Blog&quot;
  uses = &quot;peaceiris/actions-gh-pages@v1.0.1&quot;
  env = {
    PUBLISH_DIR = &quot;./public&quot;
    PUBLISH_BRANCH = &quot;master&quot;
  }
  secrets = [
    &quot;ACTIONS_DEPLOY_KEY&quot;,
  ]
}</code></pre></div>
<ol start="2">
<li>Graphiquement</li>
</ol>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 135.22205206738133%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAIDAQQF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB7tOxSAXRkIMj/8QAGBABAQEBAQAAAAAAAAAAAAAAAgEAAyD/2gAIAQEAAQUCz7DnR0LmQKsMPq7/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAbEAACAgMBAAAAAAAAAAAAAAAAAQIRECAhMf/aAAgBAQAGPwIqTLjjsUzxLf8A/8QAGxABAQADAAMAAAAAAAAAAAAAAREAEDEhUWH/2gAIAQEAAT8hIrlLB7zK8Us5q5Y9phEPkNK3Le+N9Z//2gAMAwEAAgADAAAAEDPuAv/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB0QAQACAgIDAAAAAAAAAAAAAAERIQAQQXExUWH/2gAIAQEAAT8QYgjDccZMUQhascFNjC9Ua6LLGMTMqDXfeiIKPeCmhUxfP3R5dH//2Q=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Capture d&#39;écran du mode graphique pour les actions Github"
        title="Capture d&#39;écran du mode graphique pour les actions Github"
        src="/static/c731482f1a9e1b0f30a42f28910cc91e/c739e/github-actions-graphical-editor.jpg"
        srcset="/static/c731482f1a9e1b0f30a42f28910cc91e/8ee9c/github-actions-graphical-editor.jpg 148w,
/static/c731482f1a9e1b0f30a42f28910cc91e/ebbe7/github-actions-graphical-editor.jpg 295w,
/static/c731482f1a9e1b0f30a42f28910cc91e/c739e/github-actions-graphical-editor.jpg 590w,
/static/c731482f1a9e1b0f30a42f28910cc91e/9eaf8/github-actions-graphical-editor.jpg 653w"
        sizes="(max-width: 590px) 100vw, 590px"
        loading="lazy"
      />
    </span></p>
<p>Il est possible d’utiliser des secrets, ce qui est pratique dans mon cas pour
simuler un commit de ma part depuis les actions. Reprenons ensemble le fichier
d’action bloc par bloc :</p>
<div class="gatsby-highlight" data-language="workflow"><pre class="language-workflow"><code class="language-workflow">workflow &quot;Build and Deploy Blog&quot; {
  on = &quot;push&quot;
  resolves = [&quot;Deploy Blog&quot;]
}</code></pre></div>
<p>Ce premier bloc défini le nom du <em>workflow</em>, l’événement à écouter pour se
lancer (ici le <code class="language-text">push</code>) et défini également quelle est l’action qui termine le
<em>workflow</em>.</p>
<div class="gatsby-highlight" data-language="workflow"><pre class="language-workflow"><code class="language-workflow">action &quot;Install packages&quot; {
  uses = &quot;actions/npm@59b64a598378f31e49cb76f27d6f3312b582f680&quot;
  args = &quot;install&quot;
}</code></pre></div>
<p>Cette première action installe les paquets nécessaires à la bonne construction
du projet. Elle utilise une image d’action <code class="language-text">npm</code> sur le <em>commit</em> <code class="language-text">59b64a</code>. Il
suffit de donner à cette image un argument, qui est ici <code class="language-text">install</code>, car on
souhaite lancer <code class="language-text">npm install</code> dans le <em>workflow</em>.</p>
<div class="gatsby-highlight" data-language="workflow"><pre class="language-workflow"><code class="language-workflow">action &quot;Build Blog&quot; {
  uses = &quot;actions/npm@59b64a598378f31e49cb76f27d6f3312b582f680&quot;
  needs = [&quot;Install packages&quot;]
  args = &quot;run build&quot;
}</code></pre></div>
<p>La deuxième action dépend de la bonne résolution de l’action précédente
<code class="language-text">needs = [&quot;Install packages&quot;]</code> et construit le site statique <code class="language-text">npm run build</code></p>
<div class="gatsby-highlight" data-language="workflow"><pre class="language-workflow"><code class="language-workflow">action &quot;Deploy Blog&quot; {
  needs = &quot;Build Blog&quot;
  uses = &quot;peaceiris/actions-gh-pages@v1.0.1&quot;
  env = {
    PUBLISH_DIR = &quot;./public&quot;
    PUBLISH_BRANCH = &quot;master&quot;
  }
  secrets = [
    &quot;ACTIONS_DEPLOY_KEY&quot;,
  ]
}</code></pre></div>
<p>Cette troisième action n’est pas comme les autres car elle utilise une image
qui n’est pas <code class="language-text">npm</code>. Ici, on utilise l’image <code class="language-text">peaceiris/actions-gh-pages</code> qui
permet de déployer sur les Github Pages. Il suffit de lui passer les bons
paramètres d’environnements ainsi que le secret nécessaire pour permettre à
l’image de faire le <em>commit</em> en notre nom.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 32.09549071618037%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3qAH/8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABBQJ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABPyF//9oADAMBAAIAAwAAABCDz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAICAwAAAAAAAAAAAAAAAAABESExQWH/2gAIAQEAAT8QSzojrLP/2Q=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Capture d&#39;écran des secrets dans les paramètres Github"
        title="Capture d&#39;écran des secrets dans les paramètres Github"
        src="/static/330c04180618af4f5b059821e638ef85/c739e/github-settings-secrets.jpg"
        srcset="/static/330c04180618af4f5b059821e638ef85/8ee9c/github-settings-secrets.jpg 148w,
/static/330c04180618af4f5b059821e638ef85/ebbe7/github-settings-secrets.jpg 295w,
/static/330c04180618af4f5b059821e638ef85/c739e/github-settings-secrets.jpg 590w,
/static/330c04180618af4f5b059821e638ef85/dde38/github-settings-secrets.jpg 754w"
        sizes="(max-width: 590px) 100vw, 590px"
        loading="lazy"
      />
    </span></p>
<hr>
<blockquote>
<p>💡 Pour en savoir plus sur les Github Actions, je recommande
<a href="https://css-tricks.com/introducing-github-actions/">ce très bon article</a>
écrit par <a href="https://twitter.com/sarah_edo">Sarah Drasner</a>.</p>
</blockquote>
<hr>
<p>Et voilà, nous avons maintenant tout automatiser grâce aux Github Actions, dès
que je <em>commit</em> et <em>push</em> des nouveautés, elles sont automatiquement construites
et déployées. On dispose également d’un suivi de succès ou d’échecs ainsi que
des logs pour faciliter le débogage si besoin.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 108.93617021276596%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAWABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHu47SWkAgL/8QAGRAAAgMBAAAAAAAAAAAAAAAAAREAAxAg/9oACAEBAAEFAobEXh5//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGBAAAgMAAAAAAAAAAAAAAAAAABEiMJH/2gAIAQEABj8CFLKP/8QAHRAAAQMFAQAAAAAAAAAAAAAAAQAQESFBcYHR8P/aAAgBAQABPyEaQ5wLE2D1Vd1gURLf/9oADAMBAAIAAwAAABBY5/7/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAfEAEAAgEDBQAAAAAAAAAAAAABABEhMWFxEEFRgfH/2gAIAQEAAT8QY3cWJhWWD7nCPXljRw2fOhU5dXtvMiwR8ymf/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Capture d&#39;écran des logs des Github Actions"
        title="Capture d&#39;écran des logs des Github Actions"
        src="/static/9fcf059b0685cd54b1d160b7a8fa2dd9/c739e/github-actions-log.jpg"
        srcset="/static/9fcf059b0685cd54b1d160b7a8fa2dd9/8ee9c/github-actions-log.jpg 148w,
/static/9fcf059b0685cd54b1d160b7a8fa2dd9/ebbe7/github-actions-log.jpg 295w,
/static/9fcf059b0685cd54b1d160b7a8fa2dd9/c739e/github-actions-log.jpg 590w,
/static/9fcf059b0685cd54b1d160b7a8fa2dd9/9393f/github-actions-log.jpg 705w"
        sizes="(max-width: 590px) 100vw, 590px"
        loading="lazy"
      />
    </span></p>
<p>Vous avez maintenant toutes les clefs en main pour créer vous même votre blog
et le déployer automatiquement, et tout ça, pour 0€.</p>
<p>J’espère avoir fait le tour du propriétaire le plus clairement possible, si
question il y a, je suis toujours disponible sur
<a href="https://twitter.com/yoannfleurydev">Twitter</a> et je répondrais avec plaisir.</p></div><hr style="margin-bottom:1.75rem"/><div style="display:flex;margin-bottom:4.375rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIEBQED/8QAFwEAAwEAAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAAB74Tqy9JAGZaKVkZ6f//EABsQAAICAwEAAAAAAAAAAAAAAAECABEDEiFC/9oACAEBAAEFAktJjZSLhdCBwbieUW2n/8QAFhEAAwAAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/ASP/xAAVEQEBAAAAAAAAAAAAAAAAAAABIP/aAAgBAgEBPwEI/8QAGxABAAICAwAAAAAAAAAAAAAAAAEREBIhMlH/2gAIAQEABj8CU8apdEovm8f/xAAcEAEAAwADAQEAAAAAAAAAAAABABEhMUFRceH/2gAIAQEAAT8h0V4sXadw8guqHlTNLrsgEmEH/EX7cXBtmjbmHBP/2gAMAwEAAgADAAAAELj4vv/EABkRAAMAAwAAAAAAAAAAAAAAAAABERAhMf/aAAgBAwEBPxBuaKH3H//EABgRAAIDAAAAAAAAAAAAAAAAAAABEBEx/9oACAECAQE/EEloWR//xAAfEAEAAwACAQUAAAAAAAAAAAABABEhMUFRcZGhseH/2gAIAQEAAT8QBXg5HOqiwooVJTbBXhiT0bSvmMrLBaizx+zXMRS/b7gW7MZZYy1hykITrAjkL6lcADuT/9k=" alt="Vincent Hirtz" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/829d07f167cb5d1fa173706feb22dce4/9b664/profile-pic.jpg 1x,
/static/829d07f167cb5d1fa173706feb22dce4/06a10/profile-pic.jpg 1.5x,
/static/829d07f167cb5d1fa173706feb22dce4/f1b5a/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/829d07f167cb5d1fa173706feb22dce4/9b664/profile-pic.jpg 1x,
/static/829d07f167cb5d1fa173706feb22dce4/06a10/profile-pic.jpg 1.5x,
/static/829d07f167cb5d1fa173706feb22dce4/f1b5a/profile-pic.jpg 2x" src="/static/829d07f167cb5d1fa173706feb22dce4/9b664/profile-pic.jpg" alt="Vincent Hirtz" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Blog personnel de<!-- --> <a href="https://twitter.com/alukaard76" target="_blank" rel="noopener noreferrer">Vincent Hirtz</a>. Vous pouvez y trouver des articles (fréquents ou pas) sur mes découvertes dans le monde du développement.<!-- --> </p></div><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/mise-en-place-de-ce-blog/">← <!-- -->Mise en place de ce blog</a></li><li><a rel="next" href="/environnement-de-travail-physique/">Environnement de travail physique<!-- --> →</a></li></ul></main><footer><div style="float:right"><a href="/rss.xml" target="_blank" rel="noopener noreferrer">rss</a></div><a href="https://github.com/yoannfleurydev" rel="noopener noreferrer" target="_blank" title="Lien vers la page github de Yoann Fleury">github</a> <!-- -->•<!-- --> <a href="https://mobile.twitter.com/yoannfleurydev" rel="noopener noreferrer" target="_blank" title="Lien vers la page twitter de Yoann Fleury">twitter</a> <!-- -->• <a href="/photos">photos</a><p>© <!-- -->2019<!-- -->, Mis à disposition grâce à<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></p></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-147409206-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/automatisation-de-la-publication-du-blog/";window.webpackCompilationHash="1772481320f065e3c570";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-6c2333e06b826e36bcc1.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-2035ee667a9d5ab709a1.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-2dc6a7b4e4bbe0029a78.js"],"component---src-pages-404-js":["/component---src-pages-404-js-07faae02fb5725aaad8b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-cb48dc109984e180c70e.js"],"component---src-pages-photos-js":["/component---src-pages-photos-js-056812e39b2156e7504c.js"]};/*]]>*/</script><script src="/webpack-runtime-e998c37a474136e80485.js" async=""></script><script src="/commons-2dc44cac305a95645471.js" async=""></script><script src="/styles-b5c59a627a2767837db2.js" async=""></script><script src="/component---src-templates-blog-post-js-2dc6a7b4e4bbe0029a78.js" async=""></script><script src="/app-6c2333e06b826e36bcc1.js" async=""></script></body></html>